<!DOCTYPE html>
<html>
<head>
    <title> Arithmetic</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=yes">
    <link rel="stylesheet" href ="style2.css">
    
    
    </head>
<body>
    <div id="container">
        <div id="scorebox">Score:<span id="scorevalue">0</span> </div>
        <div id="correct">Correct</div>
        <div id="wrong" >Try Again!</div>
        
        <div id="question">  </div>
        <div id="click">Click on the correct answer</div>
           <div id="option1" class="options" onclick="answered(0)"></div>  
        <div id="option2" class="options" onclick="answered(1)"></div>
        <div id="option3" class="options" onclick="answered(2)"></div>
        <div id="option4" class="options" onclick="answered(3)"></div>
        <div id="start" onclick= "startgame()">Start Game</div>
        <div id="time">Time remaining:<span id="sec">60</span> sec</div>
       <div id="gameover"> <p>GAME OVER!</p>  <p>YOUR SCORE IS <span id="finalscore">0</span></p> 
        <p> Your accuracy is <span id="accuracyid">0</span></p>
        </div>
        </div>
    <script>
        var playing = false;
        var score;
        var counta=0;
        var countq=-1;
        var result;
        var num1;
        var num2;
        var ques;
         
//        var accuracy;
        var startbox = document.getElementById("start");
//        var question= questions();
//         var result=resultf(question); 
        var t = document.getElementById("question").innerHTML;
         
        function  end(){
               gameover.style.display="block";
               time.style.display= "none";
            document.getElementById("finalscore").innerHTML=score;
            document.getElementById("accuracyid").innerHTML= (countq/counta)*100;
            
           } 
       function startgame(){
        if(playing==true){
            location.reload();
        }  else{
            playing=true;  
            ques = questions();
            result = resultf(ques);
            answerset();
            
            score = 0; 
            startbox.innerHTML= "Restart Game";
            document.getElementById("time").style.display = "block";
            document.getElementById("scorevalue").innerHTML= score;
            var x=60;
            var counter=setInterval(function(){
               x--;
               document.getElementById("sec").innerHTML = x;
            if(x==0){
                end();
            }
            },1000 );
            
           }
     
 }
     function questions(){
         countq+=1;
         
         var operation=['*','+','-','/'];
         var k=Math.round(Math.random()*3);
         var opr= operation[k];
          num1= 1+Math.round(Math.random()*10);
     num2= 1+Math.round(Math.random()*10);
    
     document.getElementById("question").innerHTML= num1 +" "+opr+" "+ num2;
         return document.getElementById("question").innerHTML;
         
     }
         function resultf(q){
             var arr = q.split(" ");
             var opra = arr[1];
             var n1=arr[0];
             var n2=arr[2];
             var r;
//             var num1= 1+Math.round(Math.random()*10);
//     var num2= 1+Math.round(Math.random()*10);
             
         switch(opra){
             case '*': 
                 result = n1*n2;
                 break;
                 case '+': 
                 result = parseInt(n1) + parseInt(n2);
                 break;
                 case '-': 
                 result = n1-n2;
                 break;
                 case '/': 
                 r = n1/n2;
                 result = r.toFixed(2);
                 break;
             default: 
                 break;
                  
         }
              return result; 
             
             
         }
        
        function answerset(){
             var a= Math.round(Math.random()*3);
         var answers=[];
      answersArray =  answers;
         answers[a]= result ;
            
            
     for(i=0;i<4;i++){
         if(answers[i]==null){
             answers[i]=Math.round(Math.random()*100);
}
     }
     option1.innerHTML=answers[0];
     option2.innerHTML=answers[1];
     option3.innerHTML=answers[2];
     option4.innerHTML=answers[3];
        }
 function answered(i){
     
     counta+=1;
          if(answersArray[i]== result){
              show("correct")
              var crt=setTimeout(function(){
                  hide("correct")},1000);
              score+=1;
               document.getElementById("scorevalue").innerHTML= score;
              ques = questions();
            result = resultf(ques);
            answerset();
              
          }
     else{
          show("wrong")
              var wrg=setTimeout(function(){
                  hide("wrong")},1000);
              
     }
      }
        function hide(id){
          document.getElementById(id).style.display="none";
        }
        function show(id){
          document.getElementById(id).style.display="block";
        }
        
        </script>
    </body>
</html>